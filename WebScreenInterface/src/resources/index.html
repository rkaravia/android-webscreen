<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script type="text/javascript">
    function nextImage() {
      var buffer = new Image();
      buffer.src = 'screen?' + (new Date()).getTime();
      buffer.onload = function() {
        $('img').attr('src', buffer.src);
        setTimeout(nextImage, 500);
      };
    };
    $(document).ready(function() {
      nextImage();
      $('img').click(function(e) {
        var offset = $(this).offset();
        var x = e.clientX - offset.left;
        var y = e.clientY - offset.top;
        $.get('http://localhost:8080/click?x='+x+'&y='+y);
      });
      $(document).keypress(function(e) {
        $.get('http://localhost:8080/key?key='+e.which);
      });
    });
  </script>
</head>
<body>
    <img src="screen" >
</body>
</html>